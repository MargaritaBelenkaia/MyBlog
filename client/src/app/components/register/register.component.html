<div class="form container col-xs-12 col-sm-12 col-md-9 col-lg-9">
    <h3>USER  REGISTRATION</h3>
    <br>

<!--         <div class="jumbotron text-center" ng-show="register.loading">
            <span class="glyphicon glyphicon-repeat spinner"></span>
            <p>Loading.....</p>
        </div>
 -->
        <div class="show-hide-message">
            <div [ngClass]="messageClass">
                {{ message }}
            </div>
        </div>

        <!--THE FORM-->
        <form [formGroup]="form" (submit)="onRegisterSubmit()">
            <div class="form-group">
                <label for="username"> Username: </label>
                <div>
                    <input class="form-control" type="text" name="username" placeholder="Username" formControlName="username" (blur)='checkUsername()'>
                    <ul class="help-block">
                        <li *ngIf="form.controls.username.errors?.required && form.controls.username.dirty">This field is required</li>
                        <li *ngIf="(form.controls.username.errors?.minlength || form.controls.username.errors?.maxlength) && form.controls.username.dirty">Minimum characters: 3, maximum characters: 15</li>
                        <li *ngIf="form.controls.username.errors?.validateUsername && form.controls.username.dirty">Username must be alphanumeric</li>
                        <li *ngIf="usernameMessage">{{ usernameMessage }}</li>
                    </ul>
                </div>
            </div>

            <div class="form-group">
                <label for="email"> E-mail: </label>
                <div>
                    <input class="form-control" type="text" name="email" placeholder="name@company.com" formControlName="email" (blur)='checkEmail()'>
                    <ul class="help-block">
                        <li *ngIf="form.controls.email.errors?.required && form.controls.email.dirty">This field is required</li>
                        <li *ngIf="(form.controls.email.errors?.minlength || form.controls.email.errors?.maxlength) && form.controls.email.dirty">Minimum characters: 5, maximum characters: 30</li>
                        <li *ngIf="form.controls.email.errors?.validateEmail && form.controls.email.dirty">This must be a valid e-mail</li>
                        <li *ngIf="emailMessage">{{ emailMessage }}</li>
                    </ul>
                </div>
            </div>

            <div class="form-group">
                <label for="password"> Password: </label>
                <div>
                    <input class="form-control" type="password" name="password" placeholder="Pa$$w0rd" formControlName="password">
                    <ul class="help-block">
                        <li *ngIf="form.controls.password.errors?.required && form.controls.password.dirty">This field is required</li>
                        <li *ngIf="form.controls.password.errors?.minlength || form.controls.password.errors?.maxlength">Minimum characters: 8, maximum characters: 35</li>
                        <li *ngIf="form.controls.password.errors?.validatePassword && form.controls.password.dirty">Password must have at least one upper case, one lower case, special character, and number</li>
                    </ul>                    
                </div>
            </div>

            <div class="form-group">
                <label for="confirm"> Confirm Password: </label>
                <div>
                    <input class="form-control" type="password" name="confirm" placeholder="Pa$$w0rd" formControlName="confirm">
                    <ul class="help-block">
                        <li *ngIf="form.controls.confirm.errors?.required && form.controls.confirm.dirty">This field is required</li>
                        <li *ngIf="form.errors?.matchingPasswords && form.controls.confirm.dirty">Passwords do not match</li>
                    </ul>
                </div>
            </div>


            <button [disabled]="!form.valid || processing || !emailValid || !usernameValid" class="btn btn-secondary btn-block btn-md" type="submit">REGISTRATION</button>

        </form>
</div>


